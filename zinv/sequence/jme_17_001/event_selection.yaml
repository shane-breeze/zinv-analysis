selections:
    lumi_selection: "ev: ev.IsCertified(ev)"
    filter_selection:
        "ev: (ev.Flag_goodVertices>0.5)
             & (ev.Flag_globalSuperTightHalo2016Filter>0.5)
             & (ev.Flag_HBHENoiseFilter>0.5)
             & (ev.Flag_HBHENoiseIsoFilter>0.5)
             & (ev.Flag_EcalDeadCellTriggerPrimitiveFilter>0.5)
             & (ev.Flag_BadPFMuonFilter>0.5)
             & (ev.Flag_BadGlobalMuon>0.5)
             & (ev.Flag_CloneGlobalMuon>0.5)
             & ((ev.Flag_eeBadScFilter>0.5) | (np.ones(ev.size, dtype=np.int32)*(~ev.config.dataset.isdata)))"
    dphi_jet_met_selection: "ev: ev.MinDPhiJ1234METnoX(ev) > 0.5"
    lepton_zero_charge: "ev: ev.LeptonCharge(ev) == 0"
    muon_0_selection:
        "ev: (ev.MuonSelection(ev, 'pt').counts == ev.MuonVeto(ev, 'pt').counts)
             & (ev.MuonVeto(ev, 'pt').counts == 0)"
    muon_2_selection:
        "ev: (ev.MuonSelection(ev, 'pt').counts == ev.MuonVeto(ev, 'pt').counts)
             & (ev.MuonVeto(ev, 'pt').counts == 2)"
    ele_0_selection:
        "ev: (ev.ElectronSelection(ev, 'pt').counts == ev.ElectronVeto(ev, 'pt').counts)
             & (ev.ElectronVeto(ev, 'pt').counts == 0)"
    ele_2_selection:
        "ev: (ev.ElectronSelection(ev, 'pt').counts == ev.ElectronVeto(ev, 'pt').counts)
             & (ev.ElectronVeto(ev, 'pt').counts == 2)"
    mll_selection: "ev: (ev.MLL(ev) >= 71.) & (ev.MLL(ev) < 111.)"
    ngen_boson_selection:
        "ev: np.ones(ev.size, dtype=bool)
             if ev.config.dataset.parent not in 'EWKV2Jets'
             else (ev.nGenBosons==1)"
grouped_selections:
    data:
        - "lumi_selection"
    mc:
        - "ngen_boson_selection"
    baseline:
        - "filter_selection"
    vmuon:
        - "ele_0_selection"
    doublemuon:
        - "dphi_jet_met_selection"
        - "muon_2_selection"
        - "mll_selection"
        - "lepton_zero_charge"
    velectron:
        - "muon_0_selection"
    doubleelectron:
        - "dphi_jet_met_selection"
        - "ele_2_selection"
        - "mll_selection"
        - "lepton_zero_charge"
cutflows:
    DoubleMuon:
        Data:
            - "data"
            - "baseline"
            - "doublemuon"
            - "vmuon"
        MC:
            - "mc"
            - "baseline"
            - "doublemuon"
    DoubleElectron:
        Data:
            - "data"
            - "baseline"
            - "doubleelectron"
            - "velectron"
        MC:
            - "mc"
            - "baseline"
            - "doubleelectron"
